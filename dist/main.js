(()=>{const e=document.querySelector("#add-user"),t=document.querySelector("#form-back"),n=document.querySelector("#form");let l=null,a=!1;function d(){n.removeAttribute("data-type"),l=null,document.getElementById("name-input").value="",document.getElementById("email-input").value="",document.getElementById("form-btn").textContent="Submit"}e.addEventListener("click",(()=>{!0!==a&&(n.setAttribute("data-type","add"),n.classList.toggle("active"),document.getElementById("form-btn").textContent="Add",a=!0)})),t.addEventListener("click",(()=>{n.classList.toggle("active"),n.removeAttribute("data-type"),a=!1})),n.addEventListener("submit",(e=>{e.preventDefault();let t=function(){let e={};return e.name=document.getElementById("name-input").value,e.email=document.getElementById("email-input").value,e}();var i;n.classList.toggle("active"),"add"===n.getAttribute("data-type")?function(e){const t=document.getElementById("user-table").getElementsByTagName("tbody")[0].insertRow(-1);t.classList.add("row");const i=t.insertCell(0),r=t.insertCell(1),m=t.insertCell(2);i.innerHTML=e.name,r.innerHTML=e.email,m.classList.add("action"),m.innerHTML+="<span class=\"act-btn edit-btn\" id='edit'>Edit</span><span class=\"act-btn delete-btn\" id='delete'>Delete</span>",m.addEventListener("click",(e=>{var t;"edit"===e.target.id?(t=e.target,!0!==a&&(l=t.parentElement.parentElement,document.getElementById("name-input").value=l.cells[0].innerHTML,document.getElementById("email-input").value=l.cells[1].innerHTML,n.classList.toggle("active"),document.getElementById("form-btn").textContent="Edit",n.setAttribute("data-type","edit"))):"delete"===e.target.id&&function(e){let t=e.parentElement.parentElement;!0!==a&&(confirm("Do you want to delete this record?")?(t.remove(),d()):t=null)}(e.target)}))}(t):"edit"===n.getAttribute("data-type")&&(i=t,l.cells[0].innerHTML=i.name,l.cells[1].innerHTML=i.email),d(),a=!1}))})();